<!-- kassensystem_basic/app/templates/service_edit.html -->
{% extends "base.html" %}
{% block content %}
<h2 class="text-xl font-semibold mb-4">Service bearbeiten</h2>

<form method="post" action="/ui/katalog/service/{{ item.id }}/edit" class="max-w-xl bg-white border rounded-2xl p-4 space-y-3">
  <div>
    <label class="block text-sm text-gray-600 mb-1">Name *</label>
    <input name="name" value="{{ item.name }}" required class="w-full border rounded-lg px-3 py-2">
  </div>

  <div class="grid grid-cols-2 gap-3">
    <div>
      <label class="block text-sm text-gray-600 mb-1">Dauer (Min) *</label>
      <input type="number" name="dauer_min" value="{{ item.dauer_min }}" required min="1" step="1" class="w-full border rounded-lg px-3 py-2">
    </div>
    <div>
      <label class="block text-sm text-gray-600 mb-1">Basispreis (CHF) *</label>
      <input type="number" name="basispreis" value="{{ '%.2f'|format(item.basispreis) }}" required min="0" step="0.05" class="w-full border rounded-lg px-3 py-2">
    </div>
  </div>

  <div class="grid grid-cols-2 gap-3">
    <div>
      <label class="block text-sm text-gray-600 mb-1">Kategorie</label>
      <input name="kategorie" value="{{ item.kategorie or '' }}" class="w-full border rounded-lg px-3 py-2">
    </div>
    <div>
      <label class="block text-sm text-gray-600 mb-1">Steuer-Code *</label>
      <select name="steuer_code" required class="w-full border rounded-lg px-3 py-2">
        {% for code in tax_codes %}
          <option value="{{ code }}" {% if code==item.steuer_code %}selected{% endif %}>{{ code }}</option>
        {% endfor %}
      </select>
    </div>
  </div>

  <div class="grid grid-cols-2 gap-3">
    <div>
      <label class="block text-sm text-gray-600 mb-1">Materialkosten (CHF)</label>
      <input type="number" name="materialkosten" value="{{ item.materialkosten if item.materialkosten is not none else '' }}" step="0.05" min="0" class="w-full border rounded-lg px-3 py-2">
    </div>
    <div class="flex items-center mt-7">
      <input type="checkbox" name="aktiv" value="1" {% if item.aktiv %}checked{% endif %} class="mr-2">
      <label>Aktiv</label>
    </div>
  </div>

  <div class="pt-2 flex gap-2">
    <button class="px-4 py-2 rounded-lg bg-gray-900 text-white">Speichern</button>
    <a href="/ui/katalog" class="px-4 py-2 rounded-lg border">Abbrechen</a>
  </div>
</form>
{% endblock %}
