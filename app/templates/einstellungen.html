<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Einstellungen â€“ Kassensystem Basic</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen">
  <div class="max-w-5xl mx-auto px-4 py-6">
    <h1 class="text-xl font-semibold mb-4">Einstellungen (DEV)</h1>

    {% if not dev %}
      <div class="mb-6 p-4 rounded border bg-amber-50 border-amber-200 text-amber-800 text-sm">
        Nicht im DEV-Modus. Schalte oben rechts mit <strong>DEV toggeln</strong> in den DEV-Modus, um Aenderungen zu aktivieren.
      </div>
    {% endif %}

    <form method="post" action="/einstellungen" class="space-y-8">
      <!-- Navigation -->
      <section class="bg-white rounded border p-4">
        <h2 class="font-semibold mb-3">Navigation (Sichtbarkeit der Menuepunkte)</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          {% for it in nav_base %}
          <label class="flex items-center gap-2 text-sm border rounded p-2 bg-gray-50">
            <input type="checkbox" name="nav_show" value="{{ it.href }}"
                   {% if header_visibility.get(it.href, 1) %}checked{% endif %}
                   class="scale-110">
            <span>{{ it.label }}</span>
            <span class="ml-auto text-xs text-gray-500">{{ it.href }}</span>
          </label>
          {% endfor %}
        </div>
      </section>

      <!-- Dashboard Kacheln -->
      <section class="bg-white rounded border p-4">
        <h2 class="font-semibold mb-3">Dashboard-Kacheln</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <label class="flex items-center gap-2 text-sm border rounded p-2 bg-gray-50">
            <input type="checkbox" name="flag_pos_quick" value="1" {% if flags.pos_quick %}checked{% endif %} class="scale-110">
            <span>POS Schnellstart</span>
          </label>
          <label class="flex items-center gap-2 text-sm border rounded p-2 bg-gray-50">
            <input type="checkbox" name="flag_termine_heute" value="1" {% if flags.termine_heute %}checked{% endif %} class="scale-110">
            <span>Termine heute</span>
          </label>
          <label class="flex items-center gap-2 text-sm border rounded p-2 bg-gray-50">
            <input type="checkbox" name="flag_top_artikel" value="1" {% if flags.top_artikel %}checked{% endif %} class="scale-110">
            <span>Top Artikel</span>
          </label>
          <label class="flex items-center gap-2 text-sm border rounded p-2 bg-gray-50">
            <input type="checkbox" name="flag_umsatz_heute" value="1" {% if flags.umsatz_heute %}checked{% endif %} class="scale-110">
            <span>Umsatz heute</span>
          </label>
          <label class="flex items-center gap-2 text-sm border rounded p-2 bg-gray-50">
            <input type="checkbox" name="flag_kassenbuch" value="1" {% if flags.kassenbuch %}checked{% endif %} class="scale-110">
            <span>Kassenbuch</span>
          </label>
        </div>
      </section>

      <div class="flex gap-2">
        <button class="px-4 py-2 rounded bg-black text-white hover:bg-gray-800" {% if not dev %}disabled{% endif %}>
          Speichern
        </button>
        <a href="/" class="px-4 py-2 rounded border bg-white hover:bg-gray-50">Abbrechen</a>
      </div>
    </form>
  </div>
</body>
</html>
